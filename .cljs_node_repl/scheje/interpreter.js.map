{"version":3,"file":"\/home\/rafik\/work\/scheje\/.cljs_node_repl\/scheje\/interpreter.js","sources":["interpreter.cljc"],"lineCount":427,"mappings":"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","names":["scheje.interpreter\/ts","cljs.core\/atom","scheje.interpreter\/form-apply","exp","a","cljs.core\/seq?","cljs.core\/sequential?","cljs.core\/seq","exp_head__32345","cljs.core\/first","cljs.core\/rest","cljs.core.match\/backtrack","e32362","js\/Error","e__4251__auto__","e32355","exp_head__32347","exp_head__32349","cljs.core\/=","exp_tail__32350","exp_head__32347_tail__32352","exp_tail__32350_tail__32354","cljs.core\/empty?","e32361","e32360","e32359","e32358","e32357","e32356","f","scheje.tools\/atom?","r","cljs.core\/apply","cljs.core\/into","cljs.core\/cons","cljs.core\/second","cljs.core\/println","cljs.core\/+","cljs.core\/-","cljs.core\/\/","cljs.core\/*","cljs.core\/<","cljs.core\/>","cljs.core\/<=","cljs.core\/>=","form-apply","scheje.interpreter\/form-eval","parms","body","args","scheje.tools\/pairlis","scheje.interpreter\/evcon","conds","evcon","scheje.interpreter\/evlis","exps","p1__32363#","cljs.core\/map","scheje.interpreter\/define-syntax","syn-name","literals","pattern-rules","cljs.core\/update-in","cljs.core\/conj","scheje.interpreter\/define","sym","binding","cljs.core\/assoc","scheje.interpreter\/sym-set!","exists?","cljs.core\/get","scheje.interpreter\/form-eval-quasi","form-eval-quasi","scope","cljs.core\/get-in","from-root","cljs.core\/some","cljs.core\/name","form-eval","cljs.core\/symbol","scheje.unifier\/get-symbol-idx","some-syn","scheje.tools\/get-syntax","map__32366","cljs.core\/hash-map","rules","remaining","cur-rule","cur-pattern","cur-tpl","a-match","scheje.unifier\/unify","cljs.core\/swap!","cljs.core\/inc","expanded-tpl","scheje.expander\/expand-w-bindings","cljs.core\/assoc-in","scheje.library\/root-env","cljs.core\/nth","scheje.interpreter\/eval-exp-with-env!","env","scheje.tools\/is-exp-valid?","e32370","e","scheje.interpreter\/eval-prog-with-env!","exprs","eval-result","vec__32372","new-env","the-eval","scheje.interpreter\/eval-prog","cljs.core\/comp","cljs.core\/last","cljs.core\/vals","cljs.core\/partial"]}